# Server
PORT=3000

# Database
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/fluxapay?schema=public"

# Docker Compose DB settings (optional, defaults shown)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=fluxapay

# JWT
JWT_SECRET="your-jwt-secret-here"

# Cloudinary (for KYC document uploads)
CLOUDINARY_CLOUD_NAME="your-cloud-name"
CLOUDINARY_API_KEY="your-api-key"
CLOUDINARY_API_SECRET="your-api-secret"

# Email (Resend)
RESEND_API_KEY="re_your_resend_api_key_here"

# Webhook
WEBHOOK_SECRET="your-webhook-secret-here"

# Soroban Smart Contracts
SOROBAN_RPC_URL="https://soroban-testnet.stellar.org"
SOROBAN_NETWORK_PASSPHRASE="Test SDF Network ; September 2015"
MERCHANT_REGISTRY_CONTRACT_ID="C..."
ADMIN_SECRET_KEY="S..."

# ─── Settlement Batch ──────────────────────────────────────────────────────────

# Exchange / payout partner: "yellowcard" | "anchor" | "mock" (default: mock)
EXCHANGE_PARTNER="mock"

# Yellow Card (https://yellowcard.io) — required when EXCHANGE_PARTNER=yellowcard
YELLOWCARD_API_KEY="yc_your_api_key_here"
YELLOWCARD_API_URL="https://api.yellowcard.io"

# Anchor (https://anchorusd.com) — required when EXCHANGE_PARTNER=anchor
ANCHOR_API_KEY="anc_your_api_key_here"
ANCHOR_API_URL="https://api.anchorusd.com"

# Settlement fee (percentage charged by FluxaPay, default: 2)
SETTLEMENT_FEE_PERCENT="2"

# Cron expression for settlement batch (UTC). Default: daily at midnight UTC.
# Examples:
#   "0 0 * * *"   → every day at 00:00 UTC (default)
#   "0 0 * * 1"   → every Monday at 00:00 UTC (weekly)
#   "*/5 * * * *" → every 5 minutes (testing only)
SETTLEMENT_CRON="0 0 * * *"

# Max number of Payment rows processed per batch run (prevents OOM on huge datasets)
SETTLEMENT_BATCH_LIMIT="500"

# Set to "true" to disable all cron jobs (useful in test/CI environments)
DISABLE_CRON="false"

# Internal admin secret for /api/admin/* endpoints (X-Admin-Secret header)
ADMIN_INTERNAL_SECRET="your-strong-internal-secret-here"

